$(function(a) {
    a.fn.imagePreviewer = function(b) {
        var c = { scroll: true, };
        var b = a.extend(c, b);
        this.each(function() {
            var d = a(this);
            a("img", d).css("cursor", "zoom-in").on("click", function(g) {
                if (a("#image_preview_popup").length == 0) {
                    a("body").append('<div class="layer image-preview-layer flex" id="image_preview_popup"><div class="layer-wrap"><img src="' + a(this).attr("src") + '" alt="' + (a(this).attr("alt") || "") + '" class="hide"></div></div>');
                    setTimeout(function() { a("#image_preview_popup img").removeClass("hide") }, 100)
                } else {
                    a("#image_preview_popup").show();
                    a("#image_preview_popup img").attr("src", a(this).attr("src")).attr("alt", a(this).attr("alt")).removeClass("hide")
                }
                var f = function() {
                    if (a("#image_preview_popup").length) {
                        a("#image_preview_popup img").addClass("hide");
                        setTimeout(function() { a("#image_preview_popup").hide() }, 200)
                    }
                    a("#image_preview_popup").off("click.image_preview_popup");
                    b.scroll && a(window).off("scroll.image_preview_popup")
                };
                a("#image_preview_popup").on("click.image_preview_popup", f);
                b.scroll && a(window).on("scroll.image_preview_popup", f)
            })
        });
        return a(this)
    };
    a(document.head).append("<style>.layer {position: fixed;z-index: 100000;top: 0;right: 0;bottom: 0;left: 0;overflow: auto;background-color: rgba(43,51,59,0.80);}.flex {display:flex;display:-webkit-flex;align-items: center;justify-content: center;}#image_preview_popup img.hide {opacity:0;transform:scale(0);transition:all 0.2;cursor:zoom-out;}#image_preview_popup img {width:100%;height:650px;opacity:1;transform:scale(1);transition:all 0.2s;cursor:zoom-out;}</style>")
}(jQuery));